## Database: PostreSQL
# Date: 1/22/2019

# Status: Accepted
# Decision makers: William Hundahl 

#### Contextual outline:

Using a Dockerfile within database container to pull an image of PostgreSQL, create environment variables, load the configuration data into the application's database. This is called upon when starting the application up with the docker-compose file. 

#### Decision:

- Mysql VS PostgreSQL
Based on the higher level approach driving the development of this application, I opted for the most opensource database image, that was also popular among the online development community. MySQL is a great basic database and can be just as easily linked to django through the django engine value listed within the settings.py file, but I happened to find a configuration in a github Gist that helped me set up the PostgreSQL Database. The Postgres database is great for image storage and filestorage as well which would make it a nice option for the application at scale. MySQL also has roots in Oracle and is not technically licensed for production us, although there are images of it. Often MariaDB is substituted, but I opted to go with PostgreSQL. 

- PostreSQL VS SQLite 
Although the basic Django setup offers a range of possibilities for development the programmers and creators behind Django suggest the use of SQLite, but at a production level this type of database is not often sufficient and cannot be migrated as easily into other databases. Again, PostgreSQL wins here and MySQL as one of the most common open source databases for storing Python web applications' data. SQLite is a database that is stored in a single file on disk. SQLite is built into Python but is only built for access by a single connection at a time.


- Data
The portal.sql file is a simple set of SQL statements that are used to populate the database with the configuration data upon startup of the application. This is handled in the docker file which copies the PostgreSQL Dump into the database.

Django uses several migration files that are created during development and are then used to migrate the the changes to the database in order to persist the data when restarting the application. 
This migration file is automatically generated by Python and loads the operational data into the application. 

- CRUD Support
The Django application supports CRUD at its very core and its separation of the model, view and controller allows for the scripting of simple python snippets that define the model programmatically without having to write SQL statements. The Application that has been written allows for a user to log in, or create a new account and then log in, and access the employee database. In the application there are several different views that allow the user to CREATE new employees, UPDATE existing employees, show or READ the list of employees, and finally, DELETE existing employees. 

#### Consequence:

- Data
Since it's a simple set of sql statements the database will read and write to this file which is labeled as PostgreSQL database dump. Configuration data is handled within the database layer of the application and is all loaded as separate tables into the PostgreSQL database, which allows access to the django application. 

The database is controlled by the management commands within the django framework and provides the developer with the ability to quickly decide which data becomes configurational data, which is persistent as a result. If the migrations are not applied it is often possible that the application will not perform properly, but it also provides the developer with a chance to version control the database during development of the applications within the project. 

- CRUD 
The application needs to support the CRUD functionality otherwise the application would be useless at its core. Ever aspect of the application in its current state needs to access the database and as such needs to be able to touch the database and perform basic unction on the data (i.e CRUD). At the moment the CRUD functionality does not support persistent data but has been set up that way on purpose to allow a launched web app with this implementation to be built without a full database of employees (i.e To meet the consumers needs).

- ACID/ BASE Database Integrity Guarantees 
PostreSQL can be quoted: "PostgreSQL runs on all major operating systems, has been ACID-compliant since 2001, and has powerful add-ons such as the popular PostGIS geospatial database extender. It is no surprise that PostgreSQL has become the open source relational database of choice for many people and organizations."